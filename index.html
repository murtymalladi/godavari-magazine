<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Godavari Magazine</title>
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  
  <!-- Flipbook StyleSheet -->
  <link href="lib/css/min.css" rel="stylesheet" type="text/css">
  <!-- Icons Stylesheet -->
  <link href="lib/css/themify-icons.min.css" rel="stylesheet" type="text/css">
  
  <script src="https://cdn.tailwindcss.com"></script>
  
  <style>
    /* Curtain Opening Animation */
    .curtain-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 9999;
      pointer-events: none;
    }
    
    .curtain-left, .curtain-right {
      position: absolute;
      top: 0;
      width: 50%;
      height: 100%;
      background: linear-gradient(45deg, #8B4513, #A0522D, #CD853F);
      background-size: 20px 20px;
      background-image: 
        linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%),
        linear-gradient(-45deg, rgba(255,255,255,0.1) 25%, transparent 25%),
        linear-gradient(45deg, transparent 75%, rgba(255,255,255,0.1) 75%),
        linear-gradient(-45deg, transparent 75%, rgba(255,255,255,0.1) 75%);
      box-shadow: inset 0 0 50px rgba(0,0,0,0.3);
      transition: transform 2s ease-in-out;
    }
    
    .curtain-left {
      left: 0;
      transform-origin: left center;
    }
    
    .curtain-right {
      right: 0;
      transform-origin: right center;
    }
    
    .curtain-left::before, .curtain-right::before {
      content: '';
      position: absolute;
      top: 0;
      width: 10px;
      height: 100%;
      background: linear-gradient(to right, rgba(0,0,0,0.5), transparent);
    }
    
    .curtain-left::before {
      right: 0;
    }
    
    .curtain-right::before {
      left: 0;
      background: linear-gradient(to left, rgba(0,0,0,0.5), transparent);
    }
    
    .curtain-open .curtain-left {
      transform: translateX(-100%);
    }
    
    .curtain-open .curtain-right {
      transform: translateX(100%);
    }
    
    .curtain-rope {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 20px;
      background: #8B4513;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }
    
    .curtain-rope::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 20%;
      width: 60%;
      height: 2px;
      background: #654321;
      transform: translateY(-50%);
    }
    
    #flipbookContainer {
      opacity: 0;
      transition: opacity 1s ease-in-out;
    }
    
    #flipbookContainer.show {
      opacity: 1;
    }
    
    .magazine-title {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: #FFD700;
      font-size: 3rem;
      font-weight: bold;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
      z-index: 10000;
      opacity: 1;
      transition: opacity 1s ease-in-out;
      font-family: 'Georgia', serif;
    }
    
    .magazine-title.fade-out {
      opacity: 0;
    }
  </style>

</head>
<body>

  <!-- Curtain Opening Effect -->
  <div class="curtain-container" id="curtainContainer">
    <div class="curtain-left"></div>
    <div class="curtain-right"></div>
    <div class="curtain-rope"></div>
    <div class="magazine-title" id="magazineTitle">Godavari Magazine</div>
  </div>

  <div id="flipbookContainer">
  </div>


  <!-- jQuery  -->
  <script src="lib/js/libs/jquery.min.js" type="text/javascript"></script>
  <!-- Flipbook main Js file -->
  <script src="lib/js/dflip.min.js" type="text/javascript"></script>
  <!-- Flipbook main Js file -->
  <script>
    jQuery(document).ready(function () {
      // Start the curtain opening sequence
      setTimeout(function() {
        // Fade out the title
        $("#magazineTitle").addClass("fade-out");
        
        // After title fades, open curtains
        setTimeout(function() {
          $("#curtainContainer").addClass("curtain-open");
          
          // After curtains start opening, initialize flipbook
          setTimeout(function() {
            //uses source from online(make sure the file has CORS access enabled if used in cross domain)
            var pdf = 'https://murtymalladi.github.io/godavari-magazine/static/magazine.pdf';
            var options = {
              height: 1000,
              duration: 700,
              backgroundColor: "#2F2F2F"
            };
            var flipBook = $("#flipbookContainer").flipBook(pdf, options);
            
            // Show the flipbook with fade-in effect
            $("#flipbookContainer").addClass("show");
            
            // Remove curtain after flipbook is fully visible
            setTimeout(function() {
              $("#curtainContainer").fadeOut(500, function() {
                $(this).remove();
              });
            }, 1000);
            
          }, 500); // Wait 500ms after curtains start opening
        }, 1000); // Wait 1s for title to fade
      }, 1500); // Wait 1.5s before starting the sequence
    });
  </script>

</body>
</html>
